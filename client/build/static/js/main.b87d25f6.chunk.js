(this["webpackJsonpgoogle-books-search"]=this["webpackJsonpgoogle-books-search"]||[]).push([[0],{33:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),l=a(27),r=a.n(l),n=a(10),o=a(2),i=(a(33),a(0));var b=()=>{const e=Object(o.f)();return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"/"===e.pathname||"/search"===e.pathname?"bg-search":"/saved"===e.pathname?"bg-saved":"bg-search",role:"img","aria-label":"Background image"}),Object(i.jsx)("header",{children:Object(i.jsxs)("nav",{className:"/"===e.pathname||"/search"===e.pathname?"navbar navbar-expand-lg navbar-dark nav-search":"/saved"===e.pathname?"navbar navbar-expand-lg navbar-dark nav-saved":"navbar navbar-expand-lg navbar-dark",children:[Object(i.jsx)(n.b,{to:"/",className:"navbar-brand",children:"Google Books"}),Object(i.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(i.jsx)("span",{className:"navbar-toggler-icon"})}),Object(i.jsx)("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02",children:Object(i.jsxs)("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0",children:[Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(n.b,{to:"/search",className:"/search"===e.pathname?"nav-link active nav-search":"nav-link",children:"Search"})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(n.b,{to:"/saved",className:"/saved"===e.pathname?"nav-link active nav-saved":"nav-link",children:"Saved"})})]})})]})})]})},j=a(9),d=a(13),h=a(12),m=a.n(h);var v={search:e=>m.a.get("https://www.googleapis.com/books/v1/volumes?maxResults=23&q=title:"+e),getSavedBooks:()=>m.a.get("/api/books"),saveBook:e=>m.a.post("/api/books/",e),deleteBook:e=>m.a.delete("/api/books/"+e)};var u=({children:e})=>Object(i.jsx)("div",{className:"col justify-content-center",children:Object(i.jsx)("div",{style:{height:300,clear:"both",paddingTop:72,textAlign:"center",opacity:"0.88"},className:"jumbotron",children:e})});var O=e=>Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"col",children:Object(i.jsx)("ul",{className:"list-group",style:{opacity:"0.88"},children:e.results.map((t=>Object(i.jsxs)("li",{className:"list-group-item",children:[Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-6",style:{float:"left"},children:[Object(i.jsx)("h5",{children:t.volumeInfo.title}),Object(i.jsxs)("h6",{children:["Written by"," ",void 0!==t.volumeInfo.authors?t.volumeInfo.authors.map((e=>e+" ")):t.volumeInfo.authors]})]}),Object(i.jsxs)("div",{className:"col-6",children:[Object(i.jsx)("a",{className:"btn btn-info",style:{float:"right"},onClick:()=>{e.handleSave(t.volumeInfo)},children:e.saveDel}),Object(i.jsx)("a",{href:t.volumeInfo.infoLink,rel:"noreferrer",target:"_blank",role:"button",className:"btn btn-success mr-1",style:{float:"right",color:"white"},children:"View"})]})]}),Object(i.jsxs)("div",{className:"pt-3",style:{clear:"both"},children:[Object(i.jsx)("img",{alt:t.volumeInfo.title,className:"img-fluid pr-4 pb-3",style:{float:"left"},src:void 0!==t.volumeInfo.imageLinks?t.volumeInfo.imageLinks.thumbnail:""}),Object(i.jsx)("h6",{children:t.volumeInfo.description})]})]},t.id)))})})});var x=e=>Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"input-group col-md-6 col-sm-8",style:{margin:"0 auto"},children:[Object(i.jsx)("input",{id:"search-input",type:"text",placeholder:"Book Search",name:"searchInput",className:"form-control","aria-label":"Text input","aria-describedby":"button-addon",onKeyPress:e.enterKey}),Object(i.jsx)("button",{type:"button",id:"button-addon",className:"btn btn-secondary justify-content-center col-.5 d-flex mr-auto",style:{color:"#86b3d1"},onClick:e.handleSubmit,children:"Search"})]})});var g=()=>{const e=Object(s.useState)({userSearch:"",results:[]}),t=Object(d.a)(e,2),a=t[0],c=t[1];Object(s.useEffect)((()=>{""!==a.userSearch&&v.search(a.userSearch).then((e=>{c(Object(j.a)(Object(j.a)({},a),{},{results:e.data.items}))})).catch((e=>console.log(e)));document.getElementById("search-input").value=""}),[a.userSearch]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("br",{}),Object(i.jsxs)(u,{children:[Object(i.jsx)("h1",{children:"(React) Google Books Search"}),Object(i.jsx)("br",{}),Object(i.jsx)("h2",{children:"Search for and add books to your saved page!"})]}),Object(i.jsx)(x,{handleSubmit:e=>{e.preventDefault();let t=document.getElementById("search-input").value;c(Object(j.a)(Object(j.a)({},a),{},{userSearch:t}))},enterKey:e=>{if(13===e.which){let e=document.getElementById("search-input").value;return c(Object(j.a)(Object(j.a)({},a),{},{userSearch:e})),!1}}}),Object(i.jsx)("br",{}),Object(i.jsx)(O,{results:a.results,saveDel:"Save",handleSave:e=>{let t={title:e.title,authors:e.authors,description:e.description,image:e.imageLinks.thumbnail,link:e.infoLink};v.saveBook(t).then((e=>{window.alert("This book has been saved!")})).catch((e=>console.log(e)))}})]})};var p=e=>Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"col",children:Object(i.jsx)("ul",{className:"list-group",style:{opacity:"0.88"},children:e.results.map((t=>Object(i.jsxs)("li",{className:"list-group-item",children:[Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-6",style:{float:"left"},children:[Object(i.jsx)("h5",{children:t.title}),Object(i.jsxs)("h6",{children:["Written by"," ",void 0!==t.authors?t.authors.map((e=>e+" ")):t.authors]})]}),Object(i.jsxs)("div",{className:"col-6",children:[Object(i.jsx)("a",{className:"btn btn-info",style:{float:"right"},onClick:()=>{e.handleDelete(t._id)},children:e.saveDel}),Object(i.jsx)("a",{href:t.link,rel:"noreferrer",target:"_blank",role:"button",className:"btn btn-success mr-1",style:{float:"right",color:"white"},children:"View"})]})]}),Object(i.jsxs)("div",{className:"pt-3",style:{clear:"both"},children:[Object(i.jsx)("img",{alt:t.title,className:"img-fluid pr-4 pb-3",style:{float:"left"},src:void 0!==t.image?t.image:""}),Object(i.jsx)("h6",{children:t.description})]})]},t._id)))})})});var f=()=>{const e=Object(s.useState)({results:[]}),t=Object(d.a)(e,2),a=t[0],c=t[1],l=()=>{v.getSavedBooks().then((e=>{c({results:e.data})})).catch((e=>console.log(e)))};Object(s.useEffect)((()=>{l()}),[]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("br",{}),Object(i.jsxs)(u,{children:[Object(i.jsx)("h1",{children:"(React) Google Books Search"}),Object(i.jsx)("br",{}),Object(i.jsx)("h2",{children:"View your saved books here!"})]}),Object(i.jsx)("br",{}),Object(i.jsx)(p,{results:a.results,saveDel:"Delete",handleDelete:e=>{window.confirm("Are you sure you want to delete this saved book?")&&v.deleteBook(e).then((e=>{l()})).catch((e=>console.log(e)))}})]})};a(58);var k=()=>Object(i.jsx)("footer",{className:"text-center py-1",children:Object(i.jsx)("p",{className:"mb-0 py-0",children:"\xa9 Copyright 2021 Joel Estrada"})});var y=()=>Object(i.jsx)(n.a,{children:Object(i.jsxs)("div",{children:[Object(i.jsx)(b,{}),Object(i.jsxs)(o.c,{children:[Object(i.jsx)(o.a,{exact:!0,path:["/","/search"],children:Object(i.jsx)(g,{})}),Object(i.jsx)(o.a,{exact:!0,path:"/saved",children:Object(i.jsx)(f,{})}),Object(i.jsx)(o.a,{children:Object(i.jsx)(g,{})})]}),Object(i.jsx)(k,{})]})});a(59);r.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(y,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.b87d25f6.chunk.js.map